backend:
  name: git-gateway
  branch: main

publish_mode: simple        # instant publish

media_folder: "assets/images/uploads"
public_folder: "/assets/images/uploads"

collections:
  # ------- Single-file collections -------
  - name: "settings"
    label: "Site Settings"
    files:
      - name: "settings"
        label: "Settings"
        file: "content/settings.json"
        fields:
          - label: "Donate"
            name: donate
            widget: object
            fields:
              - { label: "Alumni Link", name: url, widget: string }
              - { label: "Family/Friends Link", name: url_family, widget: string, required: false }
              - { label: "Blurb", name: blurb, widget: text, required: false }
          - label: "Forms"
            name: forms
            widget: object
            fields:
              - { label: "Mode", name: mode, widget: select, options: ["netlify","formspree","disabled"], default: "netlify" }
              - { label: "Alumni Formspree Endpoint", name: alumni_endpoint, widget: string, required: false }
              - { label: "Family Formspree Endpoint", name: family_endpoint, widget: string, required: false }
          - label: "Goals"
            name: goals
            widget: object
            fields:
              - { label: "Use server function", name: use_function, widget: boolean, default: false }
          - label: "Alumni"
            name: alumni
            widget: object
            fields:
              - label: "Homecoming 2025"
                name: homecoming2025
                widget: object
                fields:
                  - { label: "RSVP URL", name: rsvp_url, widget: string, required: false }

  - name: "leadership"
    label: "Leadership"
    files:
      - name: "leadership"
        label: "Leadership"
        file: "content/leadership.json"
        fields:
          - label: "Members"
            name: members
            widget: list
            fields:
              - { label: "Name", name: name }
              - { label: "Role/Position", name: role }
              - { label: "Email", name: email, required: false }
              - { label: "Photo", name: photo, widget: image, required: false }

  - name: "donors"
    label: "Donor Wall"
    files:
      - name: "donors"
        label: "Donors"
        file: "content/donors.json"
        fields:
          - label: Donors
            name: donors
            widget: list
            fields:
              - { name: type, label: Type, widget: select, options: ["alumni","family"] }
              - { name: name, label: Name }
              - { name: class_year, label: Class Year (alumni), required: false }
              - { name: related_to, label: Related To (family), required: false }
              - { name: message, label: Public Message, widget: text, required: false }

  - name: "goals"
    label: "Goals"
    files:
      - name: "goals"
        label: "Goals"
        file: "content/goals.json"
        fields:
          - label: Goals
            name: goals
            widget: list
            fields:
              - { name: slug,  label: Slug }
              - { name: title, label: Title }
              - { name: goal_amount, label: Goal Amount, widget: number, value_type: int }
              - { name: current_amount, label: Current Amount, widget: number, value_type: int, required: false }
              - { name: source, label: Source, widget: select, options: ["manual"], default: "manual" }

  # ------- Gallery as a single JSON file -------
  - name: "gallery"
    label: "Gallery"
    files:
      - name: "gallery_index"
        label: "Photos"
        file: "content/gallery/index.json"
        fields:
          - label: "Photos"
            name: items
            widget: list
            fields:
              - { label: "Title", name: title }
              - { label: "Description", name: description, widget: text, required: false }
              - { label: "Photo", name: photo, widget: image }

  # ------- Events: one JSON per category (simplest for the site to read) -------
  - name: "events"
    label: "Events (by Category)"
    files:
      - name: "events_alumni"
        label: "Alumni"
        file: "content/events/alumni.json"
        fields:
          - label: "Events"
            name: items
            widget: list
            fields:
              - { label: "Title", name: title }
              - { label: "Date (YYYY-MM-DD)", name: date }
              - { label: "Description", name: description, widget: text, required: false }
              - { label: "Location", name: location, required: false }
              - { label: "Photo", name: photo, widget: image, required: false }
      - name: "events_cs"
        label: "Community Service"
        file: "content/events/community-service.json"
        fields: *events_alumni_fields
      - name: "events_phil"
        label: "Philanthropy"
        file: "content/events/philanthropy.json"
        fields: *events_alumni_fields
      - name: "events_social"
        label: "Social"
        file: "content/events/social.json"
        fields: *events_alumni_fields
      - name: "events_brotherhood"
        label: "Brotherhood"
        file: "content/events/brotherhood.json"
        fields: *events_alumni_fields
      - name: "events_academic"
        label: "Academic"
        file: "content/events/academic.json"
        fields: *events_alumni_fields
