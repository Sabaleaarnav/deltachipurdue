<!doctype html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ΔΧ Purdue – Gallery</title><link rel="stylesheet" href="assets/css/styles.css"/>
</head><body data-page="gallery">
<header id="site-header"></header>
<main>
  <section class="section">
    <div class="container">
      <header class="section-header"><h2>Photo Gallery</h2><p>Service, events, and memories.</p></header>
      <div id="galleryGrid" class="gallery-grid"></div>
    </div>
  </section>
</main>
<footer id="site-footer"></footer>
<script src="assets/js/shell.js"></script>
<script>
(async function(){
  const grid = document.getElementById('galleryGrid');
  try{
    const res = await fetch('content/gallery/index.json',{cache:'no-store'});
    if(!res.ok){ grid.innerHTML='<p class="muted" style="text-align:center">No photos yet.</p>'; return; }
    const idx = await res.json();
    const items = await Promise.all(idx.files.map(f=>fetch('content/gallery/'+f).then(r=>r.json())));
    grid.innerHTML = items.map(i=>`
      <div class="gallery-item">
        ${i.photo?`<img src="${i.photo}" alt="${i.title}" loading="lazy">`:''}
        <div class="meta"><h4>${i.title}</h4><p>${i.description||''}</p></div>
      </div>`).join('');
  }catch{ grid.innerHTML='<p class="muted" style="text-align:center">No photos yet.</p>'; }
})();
</script>
<script src="assets/js/app.js" defer></script>
</body></html>
<script>
(async function(){
  const grid = document.getElementById('galleryGrid');
  try{
    const res = await fetch('content/gallery/index.json',{cache:'no-store'});
    const idx = await res.json();
    const items = idx.items || [];
    if(!items.length){
      grid.innerHTML = '<p class="muted" style="text-align:center">No photos yet.</p>';
      return;
    }
    grid.innerHTML = items.map(i => `
      <div class="gallery-item">
        ${i.photo ? `<img src="${i.photo}" alt="${i.title}" loading="lazy">` : ''}
        <div class="meta"><h4>${i.title}</h4><p>${i.description || ''}</p></div>
      </div>
    `).join('');
  } catch {
    grid.innerHTML = '<p class="muted" style="text-align:center">No photos yet.</p>';
  }
})();
</script>

